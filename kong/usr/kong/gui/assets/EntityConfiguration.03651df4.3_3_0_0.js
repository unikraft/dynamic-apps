/*
  This software is copyright Kong Inc. and its licensors.
  Use of the software is subject to the agreement between your organization
  and Kong Inc. If there is no such agreement, use is governed by and
  subject to the terms of the Kong Master Software License Agreement found
  at https://konghq.com/enterprisesoftwarelicense/.
*/

import{E as Lo,a as No,__tla as Bo}from"./EntityToggleBadge.6a1cd1fb.3_3_0_0.js";import{_ as et,X as Ho,r as d,o as u,c as l,G,R as A,d as _,t as m,l as y,w as s,h as v,V as Jo,H as Ko,z as tt,J as Do,u as zo,a6 as rt,a2 as de,m as Uo,n as Go,a as p,b,U as nt,O as Io,p as qo,e as Qo,__tla as Xo}from"./index.84d84090.3_3_0_0.js";import{c as h,__tla as Zo}from"./monaco-editor.90904fcf.3_3_0_0.js";import{R as Wo}from"./RedirectMixin.efeb36f2.3_3_0_0.js";import{_ as ot}from"./icon-help.699f8c28.3_3_0_0.js";let at,Yo=Promise.all([(()=>{try{return Bo}catch{}})(),(()=>{try{return Xo}catch{}})(),(()=>{try{return Zo}catch{}})()]).then(async()=>{const it={name:"EntityConfigurationValue",components:{EntityTags:Lo},props:{row:{type:Object,required:!0},raw:{type:Boolean,default:!1}},computed:{wrapperClass(){return["flex","items-center",{"config-value-monospace":this.useMono||this.raw}]},isDictionary(){const{value:e}=this.row;return e&&typeof e=="object"&&!Array.isArray(e)},useCopy(){return this.row.schema&&this.row.schema.useCopy},useMono(){return this.row.schema&&this.row.schema.useMono},isLinkObject(){return this.row.value&&this.row.value.link&&typeof this.row.value.link=="object"}},methods:{formatTimestamp(e){return Ho(e)},formatValue(){let e=this.row.valueDisplay||this.row.value;return this.row.schema&&this.row.schema.encrypted&&(e="********"),e==null&&(e=""),e}}},ct=["data-testid"],ut={key:7,class:"config-value-monospace"};function st(e,t,r,n,a,o){const i=d("CopyUuid"),f=d("router-link"),g=d("EntityTags");return u(),l("div",{class:Jo(o.wrapperClass),"data-testid":r.row.key},[G(e.$slots,r.row.key,{value:r.row.value},()=>[r.raw?(u(),l(A,{key:0},[_(m(o.formatValue()),1)],64)):r.row.key==="id"||o.useCopy?(u(),y(i,{key:1,uuid:r.row.value,truncated:!1,class:"copy-uuid"},null,8,["uuid"])):r.row.key==="created_at"?(u(),l(A,{key:2},[_(m(o.formatTimestamp(r.row.value)),1)],64)):r.row.key==="updated_at"?(u(),l(A,{key:3},[_(m(o.formatTimestamp(r.row.value)),1)],64)):o.isLinkObject?(u(),y(f,{key:4,to:r.row.value.link},{default:s(()=>[_(m(r.row.value.value),1)]),_:1},8,["to"])):r.row.schema&&r.row.schema.encrypted?(u(),l(A,{key:5},[r.row.value?(u(),y(i,{key:0,uuid:r.row.value,truncated:!1,"is-hidden":!0,class:"copy-uuid"},null,8,["uuid"])):v("",!0)],64)):Array.isArray(r.row.value)?(u(),y(g,{key:6,tags:r.row.value,"no-collapse":""},null,8,["tags"])):o.isDictionary?(u(),l("div",ut,m(o.formatValue()),1)):(u(),l(A,{key:8},[_(m(o.formatValue()),1)],64))])],10,ct)}const lt=et(it,[["render",st]]);var ft="Expected a function",he="__lodash_hash_undefined__",ye=1/0,pt="[object Function]",dt="[object GeneratorFunction]",ht="[object Symbol]",yt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_t=/^\w*$/,vt=/^\./,gt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,bt=/[\\^$.*+?()[\]{}|]/g,mt=/\\(\\)?/g,wt=/^\[object .+?Constructor\]$/,kt=typeof h=="object"&&h&&h.Object===Object&&h,jt=typeof self=="object"&&self&&self.Object===Object&&self,I=kt||jt||Function("return this")();function Ot(e,t){return e==null?void 0:e[t]}function St(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch{}return t}var $t=Array.prototype,Ct=Function.prototype,_e=Object.prototype,q=I["__core-js_shared__"],ve=function(){var e=/[^.]+$/.exec(q&&q.keys&&q.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),ge=Ct.toString,Q=_e.hasOwnProperty,be=_e.toString,Et=RegExp("^"+ge.call(Q).replace(bt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),me=I.Symbol,At=$t.splice,Tt=je(I,"Map"),P=je(Object,"create"),we=me?me.prototype:void 0,ke=we?we.toString:void 0;function w(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ft(){this.__data__=P?P(null):{}}function Rt(e){return this.has(e)&&delete this.__data__[e]}function xt(e){var t=this.__data__;if(P){var r=t[e];return r===he?void 0:r}return Q.call(t,e)?t[e]:void 0}function Pt(e){var t=this.__data__;return P?t[e]!==void 0:Q.call(t,e)}function Vt(e,t){var r=this.__data__;return r[e]=P&&t===void 0?he:t,this}w.prototype.clear=Ft,w.prototype.delete=Rt,w.prototype.get=xt,w.prototype.has=Pt,w.prototype.set=Vt;function T(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Mt(){this.__data__=[]}function Lt(e){var t=this.__data__,r=N(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():At.call(t,r,1),!0}function Nt(e){var t=this.__data__,r=N(t,e);return r<0?void 0:t[r][1]}function Bt(e){return N(this.__data__,e)>-1}function Ht(e,t){var r=this.__data__,n=N(r,e);return n<0?r.push([e,t]):r[n][1]=t,this}T.prototype.clear=Mt,T.prototype.delete=Lt,T.prototype.get=Nt,T.prototype.has=Bt,T.prototype.set=Ht;function k(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Jt(){this.__data__={hash:new w,map:new(Tt||T),string:new w}}function Kt(e){return B(this,e).delete(e)}function Dt(e){return B(this,e).get(e)}function zt(e){return B(this,e).has(e)}function Ut(e,t){return B(this,e).set(e,t),this}k.prototype.clear=Jt,k.prototype.delete=Kt,k.prototype.get=Dt,k.prototype.has=zt,k.prototype.set=Ut;function N(e,t){for(var r=e.length;r--;)if(rr(e[r][0],t))return r;return-1}function Gt(e,t){t=Xt(t,e)?[t]:Qt(t);for(var r=0,n=t.length;e!=null&&r<n;)e=e[er(t[r++])];return r&&r==n?e:void 0}function It(e){if(!Se(e)||Wt(e))return!1;var t=nr(e)||St(e)?Et:wt;return t.test(tr(e))}function qt(e){if(typeof e=="string")return e;if(Z(e))return ke?ke.call(e):"";var t=e+"";return t=="0"&&1/e==-ye?"-0":t}function Qt(e){return Oe(e)?e:Yt(e)}function B(e,t){var r=e.__data__;return Zt(t)?r[typeof t=="string"?"string":"hash"]:r.map}function je(e,t){var r=Ot(e,t);return It(r)?r:void 0}function Xt(e,t){if(Oe(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Z(e)?!0:_t.test(e)||!yt.test(e)||t!=null&&e in Object(t)}function Zt(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Wt(e){return!!ve&&ve in e}var Yt=X(function(e){e=ar(e);var t=[];return vt.test(e)&&t.push(""),e.replace(gt,function(r,n,a,o){t.push(a?o.replace(mt,"$1"):n||r)}),t});function er(e){if(typeof e=="string"||Z(e))return e;var t=e+"";return t=="0"&&1/e==-ye?"-0":t}function tr(e){if(e!=null){try{return ge.call(e)}catch{}try{return e+""}catch{}}return""}function X(e,t){if(typeof e!="function"||t&&typeof t!="function")throw new TypeError(ft);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],o=r.cache;if(o.has(a))return o.get(a);var i=e.apply(this,n);return r.cache=o.set(a,i),i};return r.cache=new(X.Cache||k),r}X.Cache=k;function rr(e,t){return e===t||e!==e&&t!==t}var Oe=Array.isArray;function nr(e){var t=Se(e)?be.call(e):"";return t==pt||t==dt}function Se(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function or(e){return!!e&&typeof e=="object"}function Z(e){return typeof e=="symbol"||or(e)&&be.call(e)==ht}function ar(e){return e==null?"":qt(e)}function ir(e,t,r){var n=e==null?void 0:Gt(e,t);return n===void 0?r:n}var W=ir,cr="Expected a function",$e="__lodash_hash_undefined__",Ce=1/0,ur=9007199254740991,sr="[object Function]",lr="[object GeneratorFunction]",fr="[object Symbol]",pr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,dr=/^\w*$/,hr=/^\./,yr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_r=/[\\^$.*+?()[\]{}|]/g,vr=/\\(\\)?/g,gr=/^\[object .+?Constructor\]$/,br=/^(?:0|[1-9]\d*)$/,mr=typeof h=="object"&&h&&h.Object===Object&&h,wr=typeof self=="object"&&self&&self.Object===Object&&self,Y=mr||wr||Function("return this")();function kr(e,t){return e==null?void 0:e[t]}function jr(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch{}return t}var Or=Array.prototype,Sr=Function.prototype,Ee=Object.prototype,ee=Y["__core-js_shared__"],Ae=function(){var e=/[^.]+$/.exec(ee&&ee.keys&&ee.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Te=Sr.toString,H=Ee.hasOwnProperty,Fe=Ee.toString,$r=RegExp("^"+Te.call(H).replace(_r,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Re=Y.Symbol,Cr=Or.splice,Er=Ve(Y,"Map"),V=Ve(Object,"create"),xe=Re?Re.prototype:void 0,Pe=xe?xe.toString:void 0;function j(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ar(){this.__data__=V?V(null):{}}function Tr(e){return this.has(e)&&delete this.__data__[e]}function Fr(e){var t=this.__data__;if(V){var r=t[e];return r===$e?void 0:r}return H.call(t,e)?t[e]:void 0}function Rr(e){var t=this.__data__;return V?t[e]!==void 0:H.call(t,e)}function xr(e,t){var r=this.__data__;return r[e]=V&&t===void 0?$e:t,this}j.prototype.clear=Ar,j.prototype.delete=Tr,j.prototype.get=Fr,j.prototype.has=Rr,j.prototype.set=xr;function F(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Pr(){this.__data__=[]}function Vr(e){var t=this.__data__,r=J(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Cr.call(t,r,1),!0}function Mr(e){var t=this.__data__,r=J(t,e);return r<0?void 0:t[r][1]}function Lr(e){return J(this.__data__,e)>-1}function Nr(e,t){var r=this.__data__,n=J(r,e);return n<0?r.push([e,t]):r[n][1]=t,this}F.prototype.clear=Pr,F.prototype.delete=Vr,F.prototype.get=Mr,F.prototype.has=Lr,F.prototype.set=Nr;function O(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Br(){this.__data__={hash:new j,map:new(Er||F),string:new j}}function Hr(e){return K(this,e).delete(e)}function Jr(e){return K(this,e).get(e)}function Kr(e){return K(this,e).has(e)}function Dr(e,t){return K(this,e).set(e,t),this}O.prototype.clear=Br,O.prototype.delete=Hr,O.prototype.get=Jr,O.prototype.has=Kr,O.prototype.set=Dr;function zr(e,t,r){var n=e[t];(!(H.call(e,t)&&Me(n,r))||r===void 0&&!(t in e))&&(e[t]=r)}function J(e,t){for(var r=e.length;r--;)if(Me(e[r][0],t))return r;return-1}function Ur(e){if(!D(e)||Wr(e))return!1;var t=rn(e)||jr(e)?$r:gr;return t.test(tn(e))}function Gr(e,t,r,n){if(!D(e))return e;t=Xr(t,e)?[t]:qr(t);for(var a=-1,o=t.length,i=o-1,f=e;f!=null&&++a<o;){var g=en(t[a]),C=r;if(a!=i){var x=f[g];C=n?n(x,g,f):void 0,C===void 0&&(C=D(x)?x:Qr(t[a+1])?[]:{})}zr(f,g,C),f=f[g]}return e}function Ir(e){if(typeof e=="string")return e;if(re(e))return Pe?Pe.call(e):"";var t=e+"";return t=="0"&&1/e==-Ce?"-0":t}function qr(e){return Le(e)?e:Yr(e)}function K(e,t){var r=e.__data__;return Zr(t)?r[typeof t=="string"?"string":"hash"]:r.map}function Ve(e,t){var r=kr(e,t);return Ur(r)?r:void 0}function Qr(e,t){return t=t??ur,!!t&&(typeof e=="number"||br.test(e))&&e>-1&&e%1==0&&e<t}function Xr(e,t){if(Le(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||re(e)?!0:dr.test(e)||!pr.test(e)||t!=null&&e in Object(t)}function Zr(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Wr(e){return!!Ae&&Ae in e}var Yr=te(function(e){e=on(e);var t=[];return hr.test(e)&&t.push(""),e.replace(yr,function(r,n,a,o){t.push(a?o.replace(vr,"$1"):n||r)}),t});function en(e){if(typeof e=="string"||re(e))return e;var t=e+"";return t=="0"&&1/e==-Ce?"-0":t}function tn(e){if(e!=null){try{return Te.call(e)}catch{}try{return e+""}catch{}}return""}function te(e,t){if(typeof e!="function"||t&&typeof t!="function")throw new TypeError(cr);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],o=r.cache;if(o.has(a))return o.get(a);var i=e.apply(this,n);return r.cache=o.set(a,i),i};return r.cache=new(te.Cache||O),r}te.Cache=O;function Me(e,t){return e===t||e!==e&&t!==t}var Le=Array.isArray;function rn(e){var t=D(e)?Fe.call(e):"";return t==sr||t==lr}function D(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function nn(e){return!!e&&typeof e=="object"}function re(e){return typeof e=="symbol"||nn(e)&&Fe.call(e)==fr}function on(e){return e==null?"":Ir(e)}function an(e,t,r){return e==null?e:Gr(e,t,r)}var ne=an,cn="Expected a function",Ne="__lodash_hash_undefined__",Be=1/0,He=9007199254740991,un="[object Arguments]",sn="[object Function]",ln="[object GeneratorFunction]",fn="[object Symbol]",pn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,dn=/^\w*$/,hn=/^\./,yn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_n=/[\\^$.*+?()[\]{}|]/g,vn=/\\(\\)?/g,gn=/^\[object .+?Constructor\]$/,bn=/^(?:0|[1-9]\d*)$/,mn=typeof h=="object"&&h&&h.Object===Object&&h,wn=typeof self=="object"&&self&&self.Object===Object&&self,oe=mn||wn||Function("return this")();function kn(e,t){return e==null?void 0:e[t]}function jn(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch{}return t}var On=Array.prototype,Sn=Function.prototype,ae=Object.prototype,ie=oe["__core-js_shared__"],Je=function(){var e=/[^.]+$/.exec(ie&&ie.keys&&ie.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Ke=Sn.toString,M=ae.hasOwnProperty,ce=ae.toString,$n=RegExp("^"+Ke.call(M).replace(_n,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),De=oe.Symbol,Cn=ae.propertyIsEnumerable,En=On.splice,An=Ge(oe,"Map"),L=Ge(Object,"create"),ze=De?De.prototype:void 0,Ue=ze?ze.toString:void 0;function S(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Tn(){this.__data__=L?L(null):{}}function Fn(e){return this.has(e)&&delete this.__data__[e]}function Rn(e){var t=this.__data__;if(L){var r=t[e];return r===Ne?void 0:r}return M.call(t,e)?t[e]:void 0}function xn(e){var t=this.__data__;return L?t[e]!==void 0:M.call(t,e)}function Pn(e,t){var r=this.__data__;return r[e]=L&&t===void 0?Ne:t,this}S.prototype.clear=Tn,S.prototype.delete=Fn,S.prototype.get=Rn,S.prototype.has=xn,S.prototype.set=Pn;function R(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Vn(){this.__data__=[]}function Mn(e){var t=this.__data__,r=z(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():En.call(t,r,1),!0}function Ln(e){var t=this.__data__,r=z(t,e);return r<0?void 0:t[r][1]}function Nn(e){return z(this.__data__,e)>-1}function Bn(e,t){var r=this.__data__,n=z(r,e);return n<0?r.push([e,t]):r[n][1]=t,this}R.prototype.clear=Vn,R.prototype.delete=Mn,R.prototype.get=Ln,R.prototype.has=Nn,R.prototype.set=Bn;function $(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Hn(){this.__data__={hash:new S,map:new(An||R),string:new S}}function Jn(e){return U(this,e).delete(e)}function Kn(e){return U(this,e).get(e)}function Dn(e){return U(this,e).has(e)}function zn(e,t){return U(this,e).set(e,t),this}$.prototype.clear=Hn,$.prototype.delete=Jn,$.prototype.get=Kn,$.prototype.has=Dn,$.prototype.set=zn;function z(e,t){for(var r=e.length;r--;)if(no(e[r][0],t))return r;return-1}function Un(e,t){return e!=null&&M.call(e,t)}function Gn(e){if(!Qe(e)||Yn(e))return!1;var t=Ie(e)||jn(e)?$n:gn;return t.test(ro(e))}function In(e){if(typeof e=="string")return e;if(le(e))return Ue?Ue.call(e):"";var t=e+"";return t=="0"&&1/e==-Be?"-0":t}function qn(e){return se(e)?e:eo(e)}function U(e,t){var r=e.__data__;return Wn(t)?r[typeof t=="string"?"string":"hash"]:r.map}function Ge(e,t){var r=kn(e,t);return Gn(r)?r:void 0}function Qn(e,t,r){t=Zn(t,e)?[t]:qn(t);for(var n,a=-1,i=t.length;++a<i;){var o=to(t[a]);if(!(n=e!=null&&r(e,o)))break;e=e[o]}if(n)return n;var i=e?e.length:0;return!!i&&qe(i)&&Xn(o,i)&&(se(e)||oo(e))}function Xn(e,t){return t=t??He,!!t&&(typeof e=="number"||bn.test(e))&&e>-1&&e%1==0&&e<t}function Zn(e,t){if(se(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||le(e)?!0:dn.test(e)||!pn.test(e)||t!=null&&e in Object(t)}function Wn(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Yn(e){return!!Je&&Je in e}var eo=ue(function(e){e=co(e);var t=[];return hn.test(e)&&t.push(""),e.replace(yn,function(r,n,a,o){t.push(a?o.replace(vn,"$1"):n||r)}),t});function to(e){if(typeof e=="string"||le(e))return e;var t=e+"";return t=="0"&&1/e==-Be?"-0":t}function ro(e){if(e!=null){try{return Ke.call(e)}catch{}try{return e+""}catch{}}return""}function ue(e,t){if(typeof e!="function"||t&&typeof t!="function")throw new TypeError(cn);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],o=r.cache;if(o.has(a))return o.get(a);var i=e.apply(this,n);return r.cache=o.set(a,i),i};return r.cache=new(ue.Cache||$),r}ue.Cache=$;function no(e,t){return e===t||e!==e&&t!==t}function oo(e){return io(e)&&M.call(e,"callee")&&(!Cn.call(e,"callee")||ce.call(e)==un)}var se=Array.isArray;function ao(e){return e!=null&&qe(e.length)&&!Ie(e)}function io(e){return Xe(e)&&ao(e)}function Ie(e){var t=Qe(e)?ce.call(e):"";return t==sn||t==ln}function qe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=He}function Qe(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function Xe(e){return!!e&&typeof e=="object"}function le(e){return typeof e=="symbol"||Xe(e)&&ce.call(e)==fn}function co(e){return e==null?"":In(e)}function uo(e,t){return e!=null&&Qn(e,t,Un)}var fe=uo;const Ze=["id","name","enabled"],so={name:"EntityConfiguration",components:{EntityConfigurationValue:lt,PageHeader:Ko,EntityToggleBadge:No},mixins:[Wo],props:{entity:{type:String,required:!0},entityName:{type:String,default:null},configSchema:{type:Object,default:null},record:{type:Object,default:null},recordForCopy:{type:Object,default:null},transformRecord:{type:Function,default:e=>e},noTitle:{type:Boolean,default:!1},headerTitle:{type:String,default:"Configuration"},headerSize:{type:Number,default:void 0},editRoute:{type:Object,default:()=>({})},hideActions:{type:Boolean,default:!1},rawValue:{type:Boolean,default:!1},transformLabel:{type:Function,default:e=>e},flattenActions:{type:Boolean,default:!1},copyTransformer:{type:Function,default:null}},emits:["update-record"],data(){return{hideEditActions:["applications"]}},computed:{...tt(Do,["workspace"]),...tt(zo,{perms:"permissions"}),_record(){return this.record?this.transformRecord(Object.entries(this.record).reduce((e,[t,r])=>(ne(e,rt(t),r),e),{})):{}},isAllowedToCreate(){return this.$rbac.isAllowed(this.perms,[{path:`/${this.entity}/${this.record.id}`,actions:["create"]}],this.workspace)},isAllowedToUpdate(){return this.$rbac.isAllowed(this.perms,[{path:`/${this.entity}/${this.record.id}`,actions:["update"]}],this.workspace)},_recordForCopy(){return this.recordForCopy||this.record},_configSchema(){return this.configSchema===null?this.generateConfigSchema(this._record):Object.entries(this.configSchema).reduce((e,[t,r])=>{const n=rt(t).split("."),a=n.reduce((o,i,f)=>(f<n.length-1?o.push(i,"fields"):o.push(i),o),[]).join(".");return fe(e,a)?ne(e,a,{...W(e,a),...r}):ne(e,a,r),e},{})},rows(){const e={basic:[],advanced:[]};return this.basicFields.forEach(({key:t,field:r})=>{const{label:n,fields:a,help:o,...i}=r;fe(this._record,t)&&e.basic.push({key:t,value:W(this._record,t),label:n||de(t),help:o,schema:i,fields:a})}),this.advancedFields.forEach(({key:t,field:r})=>{const{label:n,fields:a,help:o,...i}=r;fe(this._record,t)&&e.advanced.push({key:t,value:W(this._record,t),label:n||de(t),help:o,schema:i,fields:a})}),e},basicFields(){const e=[],t=new Set(Ze);return Ze.forEach(r=>{if(r in this._configSchema){const n=this._configSchema[r];(typeof n.visible!="function"||n.visible(this.record))&&e.push({key:r,field:n})}}),Object.entries(this._configSchema).reduce((r,[n,a])=>(n==="advanced"||t.has(n)||(typeof a.visible!="function"||a.visible(this.record))&&r.push({key:n,field:a}),r),e)},advancedFields(){const{advanced:e}=this._configSchema;return typeof e!="object"||e===null?[]:Object.entries(e).reduce((t,[r,n])=>((typeof t.visible!="function"||t.visible(this.record))&&t.push({key:r,field:n}),t),[])},basicFieldKeys(){return this.basicFields.map(({key:e})=>e)},advancedFieldKeys(){return this.advancedFields.map(({key:e})=>e)}},methods:{...Uo(Go,["notify"]),isShowRawValue(e){const t=e.schema;return t&&t.encrypted&&(this.isAllowedToCreate||this.isAllowedToUpdate)?!1:this.rawValue},generateConfigSchema(e){return Object.entries(e).reduce((t,[r,n])=>{const a=n!==null&&typeof n=="object"&&!Array.isArray(n);return t[r]={label:de(r),...a?{fields:this.generateConfigSchema(n)}:null},t},{})},copyJSON(e){if(!e(JSON.stringify(typeof this.copyTransformer=="function"?this.copyTransformer(this._recordForCopy):this._recordForCopy)))return this.notify({message:"error, failed to copy",type:"danger"});this.notify({message:"Successfully copied to clipboard",type:"success"})},handleEdit(){this.$router.push({name:this.editRoute.name,params:this.editRoute.params||{id:this.record.id,returnLink:this.$route.fullPath},query:{...this.editRoute.query,...this.createPostDeleteRouteQuery()}})}}},pe=e=>(qo("data-v-6b944382"),e=e(),Qo(),e),lo={class:"entity-record"},fo={key:0,class:"mb-4"},po={class:"d-flex justify-content-between align-items-center"},ho={key:0,class:"d-flex gap-2"},yo={class:"entity-configuration-actions"},_o=_(" Configuration actions "),vo=_(" Edit configuration "),go=_(" Copy JSON "),bo={key:1,"data-testid":"k-dropdown-list",class:"action-menu flatten-actions"},mo=_(" Copy JSON "),wo=_(" Edit "),ko={class:"entity-record-inner text-left"},jo={class:"config-label"},Oo=pe(()=>p("img",{class:"config-label-help",src:ot,alt:"help"},null,-1)),So=["innerHTML"],$o={class:"config-value"},Co={key:0},Eo=pe(()=>p("div",{class:"text-xl font-medium mt-6 mb-5"}," Advanced ",-1)),Ao={class:"config-label"},To=pe(()=>p("img",{class:"config-label-help",src:ot,alt:"help"},null,-1)),Fo=["innerHTML"],Ro={class:"config-value"};function xo(e,t,r,n,a,o){const i=d("PageHeader"),f=d("KButton"),g=d("KDropdownItem"),C=d("RbacValidate"),x=d("KClipboardProvider"),Po=d("KDropdownMenu"),We=d("KTooltip"),Vo=d("EntityToggleBadge"),Ye=d("EntityConfigurationValue");return u(),l("section",lo,[r.noTitle?v("",!0):(u(),l("div",fo,[p("div",po,[b(i,{size:r.headerSize,title:r.headerTitle},{"below-title":s(()=>[G(e.$slots,"below-title",{},void 0,!0)]),_:3},8,["size","title"]),r.hideActions?v("",!0):(u(),l("div",ho,[p("div",yo,[r.flattenActions?(u(),l("div",bo,[b(x,null,{default:s(({copyToClipboard:c})=>[b(f,{"data-testaction":"action-copy",appearance:"btn-link",class:"mr-5",onClick:E=>o.copyJSON(c)},{default:s(()=>[mo]),_:2},1032,["onClick"])]),_:1}),e.workspace&&a.hideEditActions.includes(r.entity)===!1?(u(),y(C,{key:0,workspace:e.workspace,restricted:[{path:`/${r.entity}/${r.record?r.record.id:""}`,actions:["update"]}]},{default:s(({isAllowed:c})=>[c?(u(),y(f,{key:0,appearance:"outline","data-testaction":"action-edit",onClick:o.handleEdit},{default:s(()=>[wo]),_:1},8,["onClick"])):v("",!0)]),_:1},8,["workspace","restricted"])):v("",!0)])):(u(),y(Po,{key:0,"kpop-attributes":{placement:"bottomEnd"}},{items:s(()=>[e.workspace?(u(),y(C,{key:0,workspace:e.workspace,restricted:[{path:`/${r.entity}/${r.record?r.record.id:""}`,actions:["update"]}]},{default:s(({isAllowed:c})=>[c?(u(),y(g,{key:0,"data-testaction":"action-edit",onClick:o.handleEdit},{default:s(()=>[vo]),_:1},8,["onClick"])):v("",!0)]),_:1},8,["workspace","restricted"])):v("",!0),b(x,null,{default:s(({copyToClipboard:c})=>[b(g,{"data-testaction":"action-copy",onClick:E=>o.copyJSON(c)},{default:s(()=>[go]),_:2},1032,["onClick"])]),_:1})]),default:s(()=>[b(f,{"data-testid":"entity-configuration-actions",appearance:"outline","show-caret":""},{default:s(()=>[_o]),_:1})]),_:1}))])]))])])),p("div",ko,[(u(!0),l(A,null,nt(o.rows.basic,c=>(u(),l("div",{key:c.key,class:"config-row"},[p("div",jo,[p("strong",null,m(r.transformLabel(c.label)),1),c.help?(u(),y(We,{key:0,"position-fixed":!0,placement:"right",class:"config-label-help-wrapper"},{content:s(()=>[p("div",{class:"config-label-help-content",innerHTML:c.help},null,8,So)]),default:s(()=>[Oo]),_:2},1024)):v("",!0)]),p("div",$o,[b(Ye,{row:c,raw:o.isShowRawValue(c)},Io({_:2},[r.entity&&c.key==="enabled"?{name:c.key,fn:s(()=>[b(Vo,{entity:r.entity,"entity-name":r.entityName,record:r.record,disabled:!1,onUpdateRecord:t[0]||(t[0]=(E,Mo)=>e.$emit("update-record",E,Mo))},null,8,["entity","entity-name","record"])])}:{name:c.key,fn:s(({value:E})=>[G(e.$slots,c.key,{value:E},void 0,!0)])}]),1032,["row","raw"])])]))),128)),o.rows.advanced.length>0?(u(),l("div",Co,[Eo,(u(!0),l(A,null,nt(o.rows.advanced,c=>(u(),l("div",{key:c.key,class:"config-row"},[p("div",Ao,[p("strong",null,m(r.transformLabel(c.label)),1),c.help?(u(),y(We,{key:0,"position-fixed":!0,placement:"right",class:"config-label-help-wrapper"},{content:s(()=>[p("div",{class:"config-label-help-content",innerHTML:c.help},null,8,Fo)]),default:s(()=>[To]),_:2},1024)):v("",!0)]),p("div",Ro,[b(Ye,{row:c,raw:o.isShowRawValue(c)},{[c.key]:s(({value:E})=>[G(e.$slots,c.key,{value:E},void 0,!0)]),_:2},1032,["row","raw"])])]))),128))])):v("",!0)])])}at=et(so,[["render",xo],["__scopeId","data-v-6b944382"]])});export{at as E,Yo as __tla};
