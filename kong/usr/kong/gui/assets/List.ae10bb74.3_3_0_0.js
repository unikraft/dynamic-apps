/*
  This software is copyright Kong Inc. and its licensors.
  Use of the software is subject to the agreement between your organization
  and Kong Inc. If there is no such agreement, use is governed by and
  subject to the terms of the Kong Master Software License Agreement found
  at https://konghq.com/enterprisesoftwarelicense/.
*/

import{ag as M,n as O,r as V,c as A,b as o,w as l,H,ay as p,aD as N,y as z,o as F,S as G,a as J,d as _,t as f,_ as U,__tla as W}from"./index.84d84090.3_3_0_0.js";import{j as X,__tla as Y}from"./entities-plugins.es.44654093.3_3_0_0.js";import{a as Z,u as ee,b as s,__tla as te}from"./useRbacPermission.15766885.3_3_0_0.js";import{u as ae,__tla as re}from"./useRedirect.ccdc1330.3_3_0_0.js";import{__tla as ne}from"./monaco-editor.90904fcf.3_3_0_0.js";let I,se=Promise.all([(()=>{try{return W}catch{}})(),(()=>{try{return Y}catch{}})(),(()=>{try{return te}catch{}})(),(()=>{try{return re}catch{}})(),(()=>{try{return ne}catch{}})()]).then(async()=>{const h=M({__name:"List",props:{hidePageHeader:{type:Boolean,default:!1},disableAppliedToLinks:{type:Boolean,default:!1},entity:{type:String,required:!1,default:null},createRouteQuery:{type:Object,required:!1,default:null},serviceId:{type:String,default:null},routeId:{type:String,default:null},consumerId:{type:String,default:null}},setup($){var y;const t=$,r=N(),n=z("rbac"),{createRedirectRouteQuery:c,createPostDeleteRouteQuery:w}=ae(),{onCopySuccess:k,onCopyError:R}=Z(),d=O(),v={name:"select-plugin",params:{workspace:r.params.workspace},query:{serviceId:t.serviceId,routeId:t.routeId,consumerId:t.consumerId,...t.createRouteQuery,...c()}},i={title:"Plugins",content:"Plugins allow you to extend Kong's capabilities with features like rate limiting, authentication, and logging.",supportDocs:"https://docs.konghq.com/hub",learnMore:"Learn more"},b=e=>{if(r.name==="plugins")return{name:"view-plugin",params:{workspace:r.params.workspace,pluginId:e.id,plugin:e.name,id:e.id}};const a=r.params.workspace,{name:u,id:m}=e;let g=`/${a}/${t.entity}/${u}/${m}`;return r.name==="consumer-plugins"&&(g=`/${a}/consumers/${t.entity}/${u}/${m}`),{path:g,query:{serviceId:t.serviceId,routeId:t.routeId,consumerId:t.consumerId,...c()}}},Q=(e,a)=>({name:`show-${e}`,params:{workspace:r.params.workspace,id:a}}),S=e=>{let a={};return r.name!=="plugins"&&(a={serviceId:t.serviceId,routeId:t.routeId,consumerId:t.consumerId,...c(),...w()}),{name:"update-plugin",params:{workspace:r.params.workspace,pluginId:e.id,plugin:e.name,id:e.id},query:a}},C=e=>({name:"plugin-ordering",params:{workspace:r.params.workspace,pluginId:e.id,plugin:e.name,id:e.id}}),P={...ee(),entityId:(y=t.createRouteQuery)==null?void 0:y.entity_id,entityType:(()=>{if(t.createRouteQuery){if(t.createRouteQuery.entity_type.includes("service"))return"services";if(t.createRouteQuery.entity_type.includes("route"))return"routes";if(t.createRouteQuery.entity_type.includes("consumer"))return"consumers"}})(),filterSchema:{name:{type:"text"},enabled:{type:"select",values:["true","false"]},instanceName:{type:"text"}},createRoute:v,getViewRoute:b,getEditRoute:S,getScopedEntityViewRoute:Q,getConfigureDynamicOrderingRoute:C},q=()=>s(n,{path:t.entity||"plugins",action:"create"}),D=e=>s(n,{path:`${t.entity||"plugins"}/${e.id}`,action:"delete"}),x=e=>s(n,{path:`${t.entity||"plugins"}/${e.id}`,action:"update"}),E=async()=>!0,L=e=>s(n,{path:`${t.entity||"plugins"}/${e.id}`,action:"read"}),T=(e,a)=>s(n,{path:`${e}/${a}`,action:"read"}),j=async e=>{var a;return!((a=e.consumer)!=null&&a.id)},B=e=>{d.notify({message:`Plugin "${e.name}" successfully deleted!`,type:"success"})},K=(e,a)=>{d.notify({message:`Plugin "${a.name}" successfully ${e?"enabled":"disabled"}!`,type:"success"})};return(e,a)=>{const u=V("KExternalLink");return F(),A("section",null,[o(H,{title:i.title},{"below-title":l(()=>[o(G,null,{default:l(()=>[J("p",null,[_(f(i.content)+" ",1),o(u,{href:i.supportDocs},{default:l(()=>[_(f(i.learnMore),1)]),_:1},8,["href"])])]),_:1})]),_:1},8,["title"]),o(p(X),{config:P,"can-configure-dynamic-ordering":j,"can-create":q,"can-delete":D,"can-edit":x,"can-retrieve":L,"can-retrieve-scoped-entity":T,"can-toggle":E,"onCopy:success":p(k),"onCopy:error":p(R),"onDelete:success":B,onToggleEnabled:K},null,8,["onCopy:success","onCopy:error"])])}}});I=U(h,[["__scopeId","data-v-447cd4f4"]])});export{se as __tla,I as default};
