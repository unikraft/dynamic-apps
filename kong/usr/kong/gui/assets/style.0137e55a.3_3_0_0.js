/*
  This software is copyright Kong Inc. and its licensors.
  Use of the software is subject to the agreement between your organization
  and Kong Inc. If there is no such agreement, use is governed by and
  subject to the terms of the Kong Master Software License Agreement found
  at https://konghq.com/enterprisesoftwarelicense/.
*/

import{ag as ee,aw as He,B as I,C as S,ak as ae,ax as ve,r as x,o as E,c as W,b as u,O as de,ay as r,w as i,d as K,t as q,k as he,ah as be,a as B,R as Me,U as ke,l as z,G as Q,h as ie,az as ze,aA as Je,aB as Nt,aO as Ht,q as We,i as Ze,__tla as zt}from"./index.84d84090.3_3_0_0.js";let Ye,Ge,Jt=Promise.all([(()=>{try{return zt}catch{}})()]).then(async()=>{function _e(e={}){return{axiosInstance:Nt.create({withCredentials:!0,timeout:3e4,...e})}}function Qe(e,s){const l=r(s),t=S(()=>e.apiBaseUrl.startsWith("/")?new URL(`${window.location.origin}${l}`):new URL(l));return t.value.search="",a=>`${t.value.href}/${a}`}const Xe={message:"Are you sure you want to delete this {entityType}?",messageWithName:"Are you sure you want to delete this {entityType} {entityName}?"},et={actions:{save:"Save",cancel:"Cancel",back:"Back"},errors:{edit:"The entity could not be edited at this time."}},tt={emptyState:{noSearchResultsTitle:"No results found",noSearchResultsMessage:"Please adjust the criteria and try again.",noSearchResultsCtaText:"Clear"}},at={filterButtonText:"Filter",fieldLabel:"Filter by:",inputPlaceholder:"Enter a value",selectPlaceholder:"Select an item",applyButtonText:"Apply",clearButtonText:"Clear",clearAllButtonText:"Clear all filters"},rt={errors:{fetch:"Could not fetch available items",invalid:"Please select a valid value"}},st={unexpected:"An unexpected error has occurred"},lt={enable:{title:"Enable {entityType}",message:"Are you sure you want to enable the {entityType} {entityName}?",confirmText:"Yes, enable"},disable:{title:"Disable {entityType}",message:"Are you sure you want to disable the {entityType} {entityName}?",confirmText:"Yes, disable"}},ot={deleteModal:Xe,baseForm:et,baseTable:tt,filter:at,debouncedFilter:rt,errors:st,toggleModal:lt};function we(){const e=ze("en-us",ot);return{i18n:e,i18nT:Je(e)}}function it(){const{i18n:{t:e}}=we();return{getMessageFromError:s=>{var l,t,a;if(!s)return e("errors.unexpected");if((l=s==null?void 0:s.response)!=null&&l.data){if(s.response.data.detail)return s.response.data.detail;if((t=s.response.data.details)!=null&&t.length)return s.response.data.details.map(d=>{let k=e("errors.unexpected");return d.messages&&typeof d.messages=="object"&&d.messages.length&&(k=d.messages.join(", ")),d.field?`${d.field} - ${k}`:k}).join("; ");if(s.response.data.message){const{message:d}=s.response.data;return Array.isArray(d)?(a=d[0])!=null&&a.constraints?Object.values(d[0].constraints)[0]:d[0]:d}if(typeof s.response.data=="string")return s.response.data;if(typeof s.response.data=="object")return Object.keys(s.response.data).map(d=>`${d} ${s.response.data[d]}`).join(", ")}return s.message||e("errors.unexpected")}}}function Pe(e,s){const l=I(r(e)),t=I(r(s)),a=S(()=>!!(l.value.app==="konnect"||l.value.isExactMatch)),d=S(()=>t.value.startsWith("/")?new URL(`${window.location.origin}${t.value}`):new URL(t.value));return k=>{const{page:T,pageSize:C,offset:y,sortColumnKey:o,sortColumnOrder:M,query:V}=k;try{let w=new URL(d.value.href);return a.value&&V?(w.search="",w=new URL(`${w.href}/${V}/`)):(a.value||new URLSearchParams(V).forEach((j,m)=>{w.searchParams.append(m,j)}),o&&w.searchParams.append("sort_by",o),M==="desc"&&w.searchParams.append("sort_desc","1"),w.searchParams.append("size",String(C))),y&&T!==1&&w.searchParams.append("offset",String(y)),w.href}catch(w){return console.error("RouteList(fetcher)",w),t.value}}}function nt(){return{debounce:(e,s)=>{let l;return(...t)=>{clearTimeout(l),l=window==null?void 0:window.setTimeout(()=>{e(...t)},s)}}}}const Ce="khcp-user-table-preferences",ct={pageSize:30,sortColumnKey:void 0,sortColumnOrder:void 0};function ut(){const e=l=>{if(typeof l=="string")try{return JSON.parse(l)}catch(t){console.error("useTablePreferences(tryParseJson)",t);return}},s=()=>{const l=e(localStorage.getItem(Ce));return!l||!Object.keys(l).length?new Map:new Map(Object.entries(l))};return{setTablePreferences:(l,t)=>{try{const a=s();a.set(l,t),localStorage.setItem(Ce,JSON.stringify(Object.fromEntries(a.entries())))}catch(a){console.error("useTablePreferences(setTablePreferences)",a)}},getTablePreferences:l=>{const t=s();return(t==null?void 0:t.get(l))||void 0||ct},deleteAllTablePreferences:()=>{localStorage.removeItem(Ce)}}}function dt(e,s,l){l||(l="100");const{axiosInstance:t}=_e({headers:e.requestHeaders}),{i18n:{t:a}}=we(),{debounce:d}=nt(),k=d(async n=>{await p(n)},200),T=I(!1),C=I(""),y=I(""),o=I([]),M=I(void 0),V=r(s);let w=`${e.apiBaseUrl}${V}`;e.app==="konnect"?w=w.replace(/{controlPlaneId}/gi,(e==null?void 0:e.controlPlaneId)||""):e.app==="kongManager"&&(w=w.replace(/{workspace}/gi,(e==null?void 0:e.workspace)||""));const j=async()=>{try{T.value=!0;const{data:n}=await t.get(`${w}?size=${l}`);n!=null&&n.next||(M.value=n.data),n!=null&&n.data&&(o.value=n.data)}catch{o.value=[],C.value=a("debouncedFilter.errors.fetch")}finally{T.value=!1}},m=I(""),p=async n=>{var v,R;if(m.value!==n)if(m.value=n||"",M.value===void 0)try{T.value=!0,C.value="",y.value="";let O=w+"";n&&(O+=`/${n}`);const{data:g}=await t.get(`${O}?size=${l}`);g!=null&&g.data?o.value=g.data:g!=null&&g.id?o.value=[g]:o.value=[]}catch(O){((v=O==null?void 0:O.response)==null?void 0:v.status)===404?y.value=a("debouncedFilter.errors.invalid"):(o.value=[],C.value=a("debouncedFilter.errors.fetch"))}finally{T.value=!1}else T.value=!0,y.value="",n?(o.value=(R=M.value)==null?void 0:R.filter(O=>O.id.includes(n)),(!o.value||!o.value.length)&&(y.value=a("debouncedFilter.errors.invalid"))):o.value=M.value,T.value=!1};return{loading:T,error:C,validationError:y,results:o,allRecords:M,loadItems:j,debouncedQueryChange:k}}var Ie=(e=>(e.GatewayService="service",e.Route="route",e.Consumer="consumer",e.ConsumerGroup="consumer group",e.Plugin="plugin",e.Upstream="upstream",e.Certificate="certificate",e.CACertificate="ca certificate",e.SNI="SNI",e.Key="key",e.KeySet="key set",e.Vault="vault",e.Application="application",e.Developer="developer",e.acls="ACL Credential",e["basic-auth"]="Basic Auth Credential",e["key-auth"]="Key Auth Credential",e["key-auth-enc"]="Key Auth Encrypted Credential",e.oauth2="OAuth 2.0 Credential",e["hmac-auth"]="HMAC Credential",e.jwt="JWT Credential",e.Target="target",e))(Ie||{}),pe=(e=>(e.Edit="edit",e.Create="create",e))(pe||{}),J=(e=>(e[e.Loading=0]="Loading",e[e.Idle=1]="Idle",e[e.NoResults=2]="NoResults",e[e.Error=3]="Error",e))(J||{});function pt(e,s,l="data"){const t=r(s),{axiosInstance:a}=_e({headers:e.requestHeaders}),d=Pe(e,t),k=I({status:J.Idle});return{fetcher:async T=>{try{k.value={status:J.Loading};const C=d(T),{data:y}=await a.get(C),o=l&&l.replace(/[^\w-_]/gi,"");let M;y[o]&&Array.isArray(y[o])?M=y[o]:M=Object.keys(y).length?[y]:[];const V={data:M,total:M.length,...y.offset?{pagination:{offset:y.offset}}:null};return k.value={status:J.Idle,response:V},V}catch(C){const y={data:[],total:0};return T.query&&C.response.status===404?(k.value={status:J.NoResults,response:y,error:C},y):(k.value={status:J.Error,response:y,error:C},y)}},fetcherState:k}}const te={useAxios:_e,useDeleteUrlBuilder:Qe,useErrors:it,useFetchUrlBuilder:Pe,useDebouncedFilter:dt,useFetcher:pt,useI18n:we},gt=["onReset","onSubmit"],ft={class:"form-actions","data-testid":"form-actions"},mt=ee({__name:"EntityBaseForm",props:{config:{type:Object,required:!0,validator:e=>!(!e||!["konnect","kongManager"].includes(e==null?void 0:e.app)||e.app==="konnect"&&!e.controlPlaneId||e.app==="kongManager"&&!e.workspace)},editId:{type:String,required:!1,default:""},fetchUrl:{type:String,required:!1,default:""},isReadonly:{type:Boolean,required:!1,default:!1},canSubmit:{type:Boolean,required:!1,default:void 0},errorMessage:{type:String,required:!1,default:""}},emits:["loading","fetch:success","fetch:error","submit","cancel"],setup(e,{emit:s}){var l;const t=e,a=He(),{i18n:{t:d}}=te.useI18n(),{getMessageFromError:k}=te.useErrors(),{axiosInstance:T}=te.useAxios({headers:(l=t.config)==null?void 0:l.requestHeaders}),C=I(!1),y=I(!1),o=I(""),M=S(()=>t.canSubmit===!1||t.isReadonly),V=S(()=>{var p,n;if(!t.editId)return"";let v=`${t.config.apiBaseUrl}${t.fetchUrl}`;return t.config.app==="konnect"?v=v.replace(/{controlPlaneId}/gi,((p=t.config)==null?void 0:p.controlPlaneId)||""):t.config.app==="kongManager"&&(v=v.replace(/{workspace}/gi,((n=t.config)==null?void 0:n.workspace)||"")),v=v.replace(/{id}/gi,t.editId),v}),w=()=>{t.config.cancelRoute?a.push(t.config.cancelRoute):j()},j=()=>{s("cancel")},m=()=>{M.value||s("submit")};return ae(()=>C.value,p=>{s("loading",p)},{immediate:!0}),ve(async()=>{if(t.editId)try{y.value=!1,C.value=!0;const{data:p}=await T.get(V.value);s("fetch:success",p)}catch(p){const n=k(p);o.value=n.startsWith("code")?d("baseForm.errors.edit"):n,y.value=!0,s("fetch:error",p)}finally{C.value=!1}}),(p,n)=>{const v=x("KSkeleton"),R=x("KEmptyState"),O=x("KAlert"),g=x("KButton"),_=x("KCard");return E(),z(_,{class:"kong-ui-entities-entity-base-form"},{body:i(()=>[C.value?(E(),z(v,{key:0,type:"form"})):y.value?(E(),z(R,{key:1,"cta-text":r(d)("baseForm.actions.back"),"data-testid":"form-fetch-error","handle-click":w,"is-error":!0},{message:i(()=>[B("h3",null,q(o.value),1)]),_:1},8,["cta-text"])):(E(),W("form",{key:2,"data-testid":"form-content",onReset:Ze(j,["prevent"]),onSubmit:Ze(m,["prevent"])},[Q(p.$slots,"default",{},void 0,!0),e.errorMessage?(E(),z(O,{key:0,"alert-message":e.errorMessage,appearance:"danger","data-testid":"form-error"},null,8,["alert-message"])):ie("",!0),B("div",ft,[Q(p.$slots,"form-actions",{},()=>[u(g,{appearance:"outline","data-testid":"form-cancel",disabled:e.isReadonly,type:"reset",onClick:j},{default:i(()=>[K(q(r(d)("baseForm.actions.cancel")),1)]),_:1},8,["disabled"]),u(g,{appearance:"primary","data-testid":"form-submit",disabled:r(M),type:"submit",onClick:m},{default:i(()=>[K(q(r(d)("baseForm.actions.save")),1)]),_:1},8,["disabled"])],!0)])],40,gt))]),_:3})}}}),ge=(e,s)=>{const l=e.__vccOpts||e;for(const[t,a]of s)l[t]=a;return l},yt=ge(mt,[["__scopeId","data-v-6bc69209"]]),vt={class:"toolbar-container"},ht={key:0,class:"toolbar-button-container"},bt=["data-testid"],kt=ee({__name:"EntityBaseTable",props:{tableHeaders:{type:Object,required:!0,default:()=>({})},fetcher:{type:Function,required:!0,default:async()=>({data:[],total:0})},initialFetcherParams:{type:Object,default:null},fetcherCacheKey:{type:Number,default:1},isLoading:{type:Boolean,default:!1},query:{type:String,default:""},enableClientSort:{type:Boolean,default:!1},enableEntityActions:{type:Boolean,default:!0},emptyStateOptions:{type:Object,default:()=>({})},errorMessage:{type:String,default:""},disablePaginationPageJump:{type:Boolean,default:void 0},disableSorting:{type:Boolean,default:void 0},paginationType:{type:String,default:void 0},cellAttributes:{type:Function,default:()=>({})},rowAttributes:{type:Function,default:()=>({})},preferencesStorageKey:{type:String,default:"",required:!0},dropdownMenuWidth:{type:String,default:"",required:!1}},emits:["click:row","sort","clear-search-input","empty-state-cta-clicked"],setup(e,{emit:s}){const l=e,{i18n:{t}}=te.useI18n(),a=S(()=>{const m=[];return Object.keys(l.tableHeaders).forEach(p=>{const n=l.tableHeaders[p];m.push({label:n.label??p,key:p,sortable:n.sortable??!1})}),l.enableEntityActions&&m.push({key:"actions",hideLabel:!0}),m}),d=m=>({"data-rowid":m.id,"data-testid":m.name,...l.rowAttributes(m)}),k=m=>({"data-testid":m.headerKey,...l.cellAttributes(m)}),T=()=>{s("empty-state-cta-clicked"),C()},C=()=>{s("clear-search-input")},y=(m,p)=>{s("click:row",p)},o=m=>{s("sort",m)},{setTablePreferences:M,getTablePreferences:V}=ut(),w=S(()=>{const m=V(l.preferencesStorageKey);return{...l.initialFetcherParams,...m}}),j=m=>{l.preferencesStorageKey&&M(l.preferencesStorageKey,m)};return(m,p)=>{const n=x("KIcon"),v=x("KButton"),R=x("KDropdownMenu"),O=x("KTable"),g=x("KCard");return E(),z(g,{class:"kong-ui-entity-base-table"},{body:i(()=>[u(O,{"cell-attrs":k,"disable-pagination-page-jump":e.disablePaginationPageJump,"disable-sorting":e.disableSorting,"empty-state-action-button-icon":e.query?"":"plus","empty-state-action-message":e.query?r(t)("baseTable.emptyState.noSearchResultsCtaText"):e.emptyStateOptions.ctaText,"empty-state-action-route":e.query?"":e.emptyStateOptions.ctaPath,"empty-state-icon":e.query?"stateNoSearchResults":"stateGruceo","empty-state-icon-size":"96","empty-state-message":e.query?r(t)("baseTable.emptyState.noSearchResultsMessage"):e.emptyStateOptions.message,"empty-state-title":e.query?r(t)("baseTable.emptyState.noSearchResultsTitle"):e.emptyStateOptions.title,"enable-client-sort":e.enableClientSort,"error-state-title":e.errorMessage,fetcher:e.fetcher,"fetcher-cache-key":String(e.fetcherCacheKey),"has-error":!!e.errorMessage,headers:r(a),"hide-pagination-when-optional":"","initial-fetcher-params":r(w),"is-loading":e.isLoading,"pagination-type":e.paginationType,"row-attrs":d,"search-input":e.query,onKtableEmptyStateCtaClicked:T,"onRow:click":y,onSort:o,"onUpdate:tablePreferences":j},de({toolbar:i(()=>[B("div",vt,[Q(m.$slots,"toolbar-filter",{},void 0,!0),m.$slots["toolbar-button"]?(E(),W("div",ht,[Q(m.$slots,"toolbar-button",{},void 0,!0)])):ie("",!0)])]),actions:i(({row:_,rowKey:f,rowValue:F})=>[B("div",{class:"actions-container","data-testid":_.name},[u(R,{"kpop-attributes":{placement:"bottomEnd"},width:e.dropdownMenuWidth},{items:i(()=>[Q(m.$slots,"actions",{row:_,rowKey:f,rowValue:F},void 0,!0)]),default:i(()=>[u(v,{class:"non-visual-button","data-testid":"overflow-actions-button",size:"small"},{icon:i(()=>[u(n,{color:"var(--black-400, #3c4557)",icon:"more",size:"16"})]),_:1})]),_:2},1032,["width"])],8,bt)]),_:2},[ke(e.tableHeaders,(_,f)=>({name:f,fn:i(({row:F,rowKey:b,rowValue:D})=>[Q(m.$slots,f,{row:F,rowKey:b,rowValue:D},void 0,!0)])}))]),1032,["disable-pagination-page-jump","disable-sorting","empty-state-action-button-icon","empty-state-action-message","empty-state-action-route","empty-state-icon","empty-state-message","empty-state-title","enable-client-sort","error-state-title","fetcher","fetcher-cache-key","has-error","headers","initial-fetcher-params","is-loading","pagination-type","search-input"])]),_:3})}}}),xe=ge(kt,[["__scopeId","data-v-6eab8cd1"]]),_t={key:0,class:"kong-ui-entity-delete-error"},wt={key:1,class:"description"},Ct=ee({__name:"EntityDeleteModal",props:{visible:{type:Boolean,required:!0,default:!1},title:{type:String,default:"Delete"},entityType:{type:String,required:!0},entityName:{type:String,default:""},needConfirm:{type:Boolean,default:!0},description:{type:String,default:""},actionPending:{type:Boolean,default:!1},error:{type:String,default:""}},emits:["cancel","proceed"],setup(e,{emit:s}){const l=e,{i18nT:t}=te.useI18n(),a=S(()=>l.needConfirm?l.entityName:""),d=()=>{s("cancel")},k=()=>{s("proceed")};return(T,C)=>{const y=x("KAlert"),o=x("KPrompt");return E(),z(o,{"action-button-text":"Yes, delete","action-pending":e.actionPending,class:"kong-ui-entity-delete-modal","confirmation-text":r(a),"is-visible":e.visible,title:e.title,type:"danger",onCanceled:d,onProceed:k},{"body-content":i(()=>[e.error?(E(),W("div",_t,[u(y,{appearance:"danger"},{alertMessage:i(()=>[K(q(e.error),1)]),_:1})])):ie("",!0),u(r(t),{class:"message",keypath:l.entityName?"deleteModal.messageWithName":"deleteModal.message",tag:"p"},de({entityType:i(()=>[K(q(l.entityType),1)]),_:2},[l.entityName?{name:"entityName",fn:i(()=>[B("strong",null,q(l.entityName),1)]),key:"0"}:void 0]),1032,["keypath"]),l.description||T.$slots.description?(E(),W("div",wt,[Q(T.$slots,"description",{},()=>[B("p",null,q(l.description),1)],!0)])):ie("",!0)]),_:3},8,["action-pending","confirmation-text","is-visible","title"])}}}),qe=ge(Ct,[["__scopeId","data-v-3513e33b"]]),It={fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg"},St={id:"mask0_180_20349",height:"20",maskUnits:"userSpaceOnUse",style:{"mask-type":"alpha"},width:"20",x:"0",y:"0"},Tt=["fill"],Mt={mask:"url(#mask0_180_20349)"},Pt=["fill"],xt=ee({__name:"IconFilter",props:{color:{type:String,default:"var(--kong-ui-entity-filter-color, var(--blue-500, #1155cb))"}},setup(e){return(s,l)=>(E(),W("svg",It,[B("mask",St,[B("rect",{fill:e.color,height:"20",width:"20"},null,8,Tt)]),B("g",Mt,[B("path",{d:"M8 14.5V13H12V14.5H8ZM5 10.75V9.25H15V10.75H5ZM3 7V5.5H17V7H3Z",fill:e.color},null,8,Pt)])]))}}),qt={key:1,class:"kong-ui-entity-filter"},Rt={class:"menu-item-title"},Vt={class:"menu-item-indicator"},Et={class:"menu-item-body"},Ut=["for"],$t={class:"menu-item-buttons"},Kt=ee({__name:"EntityFilter",props:{config:{type:Object,required:!0,default:()=>({isExactMatch:!0,placeholder:""})},modelValue:{type:String,required:!0}},emits:["update:modelValue"],setup(e,{emit:s}){const l=e,{i18n:{t}}=te.useI18n(),a=I(!1),d=I({}),k=S(()=>{const p=[];return new URLSearchParams(l.modelValue).forEach((n,v)=>{n!==""&&p.push(v)}),p}),T=S(()=>{const p=l.config.fields;return Object.keys(p).filter(n=>p[n].searchable).map(n=>({label:p[n].label||n,value:n}))});ae(()=>l.modelValue,p=>{d.value={},new URLSearchParams(p).forEach((n,v)=>{d.value[v]=n})});const C=()=>{a.value=!a.value},y=p=>{s("update:modelValue",p)},o=p=>`filter-${p}`,M=p=>{var n,v;return(((v=(n=l.config.schema)==null?void 0:n[p])==null?void 0:v.values)??[]).map(R=>({value:R,label:R}))},V=p=>{var n,v;return((v=(n=l.config.schema)==null?void 0:n[p])==null?void 0:v.type)??"text"},w=p=>{d.value={...d.value,[p]:""},m()},j=()=>{d.value={},m(!0)},m=(p=!1)=>{const n=Object.keys(d.value).reduce((v,R)=>(d.value[R]&&(v[R]=`${d.value[R]}`),v),{});p&&(a.value=!1),s("update:modelValue",new URLSearchParams(n).toString())};return(p,n)=>{const v=x("KInput"),R=x("KButton"),O=x("KSelect"),g=x("KMenuItem"),_=x("KMenu");return e.config.isExactMatch?(E(),z(v,{key:0,autocomplete:"off",class:"kong-ui-entity-filter-input","data-testid":"search-input","model-value":e.modelValue,placeholder:e.config.placeholder,"onUpdate:modelValue":y},{icon:i(()=>[u(xt)]),_:1},8,["model-value","placeholder"])):(E(),W("div",qt,[u(R,{appearance:"btn-link","data-testid":"filter-button",icon:"filter",onClick:C},{default:i(()=>[K(q(r(t)("filter.filterButtonText"))+" "+q(r(k).length>0?`(${r(k).length})`:""),1)]),_:1}),he(B("div",{class:"kong-ui-entity-filter-backdrop",onClick:C},null,512),[[be,a.value]]),he(u(_,{class:"kong-ui-entity-filter-menu"},{body:i(()=>[(E(!0),W(Me,null,ke(r(T),(f,F)=>(E(),z(g,{key:f.value,"data-testid":f.value,expandable:"","last-menu-item":F===r(T).length-1},{itemTitle:i(()=>[B("span",Rt,[K(q(f.label)+" ",1),he(B("span",Vt,null,512),[[be,r(k).includes(f.value)]])])]),itemBody:i(()=>{var b,D;return[B("div",Et,[B("label",{class:"menu-item-label",for:o(f.value)},q(r(t)("filter.fieldLabel")),9,Ut),((D=(b=e.config.schema)==null?void 0:b[f.value])==null?void 0:D.type)==="select"?(E(),z(O,{key:0,id:o(f.value),modelValue:d.value[f.value],"onUpdate:modelValue":P=>d.value[f.value]=P,appearance:"select",items:M(f.value),placeholder:r(t)("filter.selectPlaceholder")},null,8,["id","modelValue","onUpdate:modelValue","items","placeholder"])):(E(),z(v,{key:1,id:o(f.value),modelValue:d.value[f.value],"onUpdate:modelValue":P=>d.value[f.value]=P,autocomplete:"off",placeholder:r(t)("filter.inputPlaceholder"),size:"small",type:V(f.value)},null,8,["id","modelValue","onUpdate:modelValue","placeholder","type"]))]),B("div",$t,[u(R,{appearance:"btn-link","data-testid":"apply-filter",size:"small",onClick:n[0]||(n[0]=P=>m(!0))},{default:i(()=>[K(q(r(t)("filter.applyButtonText")),1)]),_:1}),u(R,{appearance:"btn-link","data-testid":"clear-filter",size:"small",onClick:P=>w(f.value)},{default:i(()=>[K(q(r(t)("filter.clearButtonText")),1)]),_:2},1032,["onClick"])])]}),_:2},1032,["data-testid","last-menu-item"]))),128))]),actionButton:i(()=>[u(R,{onClick:j},{default:i(()=>[K(q(r(t)("filter.clearAllButtonText")),1)]),_:1})]),_:1},512),[[be,a.value]])]))}}}),Ot=ge(Kt,[["__scopeId","data-v-fcf9a8f1"]]),X=ee({__name:"PermissionsWrapper",props:{authFunction:{type:Function,required:!0,default:async()=>!0},forceShow:{type:Boolean,default:!1}},setup(e){const s=e,l=I(void 0),t=S(()=>l.value===!0||l.value!==void 0&&s.forceShow===!0);return ve(async()=>{l.value=await s.authFunction()}),(a,d)=>r(t)?Q(a.$slots,"default",{key:0,isAllowed:l.value}):ie("",!0)}}),{useAxios:Se,useDeleteUrlBuilder:Re,useErrors:Ft,useFetchUrlBuilder:Wt,useFetcher:Ve,useDebouncedFilter:Zt}=te,At={list:{table_headers:{id:"ID",name:"Name",slots:"Slots",tags:"Tags"},empty_state:{title:"Configure a New Upstream",description:"Upstreams are used to load balance incoming requests."},toolbar_actions:{new_upstream:"New Upstream"}},title:"Upstreams",search:{placeholder:"Filter by exact name or ID"},actions:{create:"New Upstream",copy_id:"Copy ID",copy_json:"Copy JSON",edit:"Edit",delete:"Delete",view:"View Details"},delete:{title:"Delete an Upstream",description:"This action cannot be reversed so make sure to check upstream usage before deleting."},errors:{general:"Upstreams could not be retrieved",delete:"The upstream could not be deleted at this time.",copy:"Failed to copy to clipboard"},copy:{success:"Copied {val} to clipboard",success_brief:"Successfully copied to clipboard"}},Bt={list:{table_headers:{id:"ID",target_address:"Target Address",weight:"Weight",tags:"Tags"},empty_state:{title:"Configure a New Target",description:"A target is an IP address/hostname with a port that identifies an instance of a backend service."},toolbar_actions:{new_target:"New Target"}},title:"Targets",actions:{create:"New Target",copy_id:"Copy ID",copy_json:"Copy JSON",edit:"Edit",delete:"Delete",mark_healthy:"Mark Healthy",mark_unhealthy:"Mark Unhealthy"},delete:{title:"Delete a Target",description:"This action cannot be reversed so make sure to check target usage before deleting."},errors:{general:"Targets could not be retrieved",delete:"The target could not be deleted at this time.",copy:"Failed to copy to clipboard",weight:"Value must be in range 0 to 65535"},copy:{success:"Copied {val} to clipboard",success_brief:"Successfully copied to clipboard"},form:{create:{title:"New Target"},edit:{title:"Edit Target"},buttons:{save:"Save",cancel:"Cancel"},fields:{target:{label:"Target Address",placeholder:"Enter IP/hostname and port",tooltip:"The target address (IP or hostname) and port. If omitted the port defaults to 8000."},weight:{label:"Weight",tooltip:"The weight of this target in relation to other targets in the upstream. Value must be in range 0 to 65535, defaults to 100."},tags:{label:"Tags",placeholder:"Enter a list of tags separated by comma",help:"e.g. tag1, tag2, tag3"}}}},jt={upstreams:At,targets:Bt};function Lt(){const e=ze("en-us",jt);return{i18n:e,i18nT:Je(e)}}let fe,Ee,Ue,$e,Ke,me,ne,Oe,Fe,Ae,Be,je,Le,De,Ne;fe={useI18n:Lt},Ee={list:{konnect:"/api/runtime_groups/{controlPlaneId}/upstreams",kongManager:"/{workspace}/upstreams"}},Ue={class:"kong-ui-entities-upstreams-list"},$e={class:"upstream-name"},Ke=ee({__name:"UpstreamsList",props:{config:{type:Object,required:!0,validator:e=>!(!e||!["konnect","kongManager"].includes(e==null?void 0:e.app)||!e.createRoute||!e.getViewRoute||!e.getEditRoute||e.app==="kongManager"&&!e.isExactMatch&&!e.filterSchema)},canCreate:{type:Function,required:!1,default:async()=>!0},canDelete:{type:Function,required:!1,default:async()=>!0},canEdit:{type:Function,required:!1,default:async()=>!0},canRetrieve:{type:Function,required:!1,default:async()=>!0}},emits:["error","loading","copy:success","copy:error","delete:success"],setup(e,{emit:s}){var l;const t=e,{i18n:{t:a}}=fe.useI18n(),d=He(),{axiosInstance:k}=Se({headers:(l=t.config)==null?void 0:l.requestHeaders}),T=I(1),C=S(()=>t.config.app!=="kongManager"||!!t.config.disableSorting),y={name:{label:a("upstreams.list.table_headers.name"),searchable:!0,sortable:!0},slots:{label:a("upstreams.list.table_headers.slots"),searchable:!0,sortable:!0},tags:{label:a("upstreams.list.table_headers.tags"),sortable:!1}},o=y,M=S(()=>{var h,$;let c=`${t.config.apiBaseUrl}${Ee.list[t.config.app]}`;return t.config.app==="konnect"?c=c.replace(/{controlPlaneId}/gi,((h=t.config)==null?void 0:h.controlPlaneId)||""):t.config.app==="kongManager"&&(c=c.replace(/{workspace}/gi,(($=t.config)==null?void 0:$.workspace)||"")),c}),V=I(""),w=S(()=>{const h=t.config.app==="konnect"||t.config.isExactMatch;if(h)return{isExactMatch:h,placeholder:a("upstreams.search.placeholder")};const{name:$,slots:c}=y;return{isExactMatch:h,fields:{name:$,slots:c},schema:t.config.filterSchema}}),{fetcher:j,fetcherState:m}=Ve(t.config,M.value),p=()=>{V.value=""},n=()=>{T.value++},v=I(""),R=S(()=>m.value.status===J.Loading),O=S(()=>{var h;return m.value.status===J.Idle&&!!((h=m.value.response)!=null&&h.data.length)}),g=S(()=>!R.value&&(O.value||!!V.value)),_=(h,$)=>{const c=h.id;if(!$(c)){s("copy:error",{entity:h,field:"id",message:a("upstreams.errors.copy")});return}s("copy:success",{entity:h,field:"id",message:a("upstreams.copy.success",{val:c})})},f=(h,$)=>{const c=JSON.stringify(h);if(!$(c)){s("copy:error",{entity:h,message:a("upstreams.errors.copy")});return}s("copy:success",{entity:h,message:a("upstreams.copy.success_brief")})},F=async h=>{var $;await(($=t.canRetrieve)==null?void 0:$.call(t,h))&&d.push(t.config.getViewRoute(h.id))},b=h=>({label:a("upstreams.actions.view"),to:t.config.getViewRoute(h)}),D=h=>({label:a("upstreams.actions.edit"),to:t.config.getEditRoute(h)}),P=I(void 0),re=I(!1),se=I(!1),ye=I(""),ce=Re(t.config,M.value),Te=h=>{P.value=h,re.value=!0},le=()=>{re.value=!1},oe=async()=>{var h,$,c;if((h=P.value)!=null&&h.id){se.value=!0;try{await k.delete(ce(P.value.id)),se.value=!1,re.value=!1,T.value++,s("delete:success",P.value)}catch(A){ye.value=((c=($=A.response)==null?void 0:$.data)==null?void 0:c.message)||A.message||a("upstreams.errors.delete"),s("error",A)}finally{se.value=!1}}};ae(R,h=>{s("loading",h)},{immediate:!0}),ae(m,h=>{if(h.status===J.Error){v.value=a("upstreams.errors.general"),s("error",h.error);return}v.value=""});const ue=I({ctaPath:t.config.createRoute,ctaText:void 0,message:a("upstreams.list.empty_state.description"),title:a("upstreams.title")});return ve(async()=>{await t.canCreate()&&(ue.value.title=a("upstreams.list.empty_state.title"),ue.value.ctaText=a("upstreams.actions.create"))}),(h,$)=>{const c=x("KButton"),A=x("KBadge"),N=x("KTruncate"),H=x("KDropdownItem"),Z=x("KClipboardProvider");return E(),W("div",Ue,[u(r(xe),{"disable-pagination-page-jump":"","disable-sorting":r(C),"empty-state-options":ue.value,"enable-entity-actions":"","error-message":v.value,fetcher:r(j),"fetcher-cache-key":T.value,"is-loading":r(R),"pagination-type":"offset","preferences-storage-key":"kong-ui-entities-upstreams-list",query:V.value,"table-headers":r(o),onClearSearchInput:p,"onClick:row":$[1]||($[1]=U=>F(U)),onSort:n},de({"toolbar-filter":i(()=>[he(u(r(Ot),{modelValue:V.value,"onUpdate:modelValue":$[0]||($[0]=U=>V.value=U),config:r(w)},null,8,["modelValue","config"]),[[be,r(g)]])]),name:i(({rowValue:U})=>[B("span",$e,q(U),1)]),tags:i(({rowValue:U})=>[u(N,null,{default:i(()=>[(E(!0),W(Me,null,ke(U,Y=>(E(),z(A,{key:Y,"max-width":"auto"},{default:i(()=>[K(q(Y),1)]),_:2},1024))),128))]),_:2},1024)]),actions:i(({row:U})=>[u(Z,null,{default:i(({copyToClipboard:Y})=>[u(H,{"data-testid":"action-entity-copy-id",onClick:L=>_(U,Y)},{default:i(()=>[K(q(r(a)("upstreams.actions.copy_id")),1)]),_:2},1032,["onClick"])]),_:2},1024),u(Z,null,{default:i(({copyToClipboard:Y})=>[u(H,{"data-testid":"action-entity-copy-json",onClick:L=>f(U,Y)},{default:i(()=>[K(q(r(a)("upstreams.actions.copy_json")),1)]),_:2},1032,["onClick"])]),_:2},1024),u(r(X),{"auth-function":()=>e.canRetrieve(U)},{default:i(()=>[u(H,{"data-testid":"action-entity-view","has-divider":"",item:b(U.id)},null,8,["item"])]),_:2},1032,["auth-function"]),u(r(X),{"auth-function":()=>e.canEdit(U)},{default:i(()=>[u(H,{"data-testid":"action-entity-edit",item:D(U.id)},null,8,["item"])]),_:2},1032,["auth-function"]),u(r(X),{"auth-function":()=>e.canDelete(U)},{default:i(()=>[u(H,{"data-testid":"action-entity-delete","has-divider":"","is-dangerous":"",onClick:Y=>Te(U)},{default:i(()=>[K(q(r(a)("upstreams.actions.delete")),1)]),_:2},1032,["onClick"])]),_:2},1032,["auth-function"])]),_:2},[r(g)?{name:"toolbar-button",fn:i(()=>[u(r(X),{"auth-function":()=>e.canCreate()},{default:i(()=>[u(c,{appearance:"primary","data-testid":"toolbar-add-upstream",icon:"plus",to:e.config.createRoute},{default:i(()=>[K(q(r(a)("upstreams.list.toolbar_actions.new_upstream")),1)]),_:1},8,["to"])]),_:1},8,["auth-function"])]),key:"0"}:void 0]),1032,["disable-sorting","empty-state-options","error-message","fetcher","fetcher-cache-key","is-loading","query","table-headers"]),u(r(qe),{"action-pending":se.value,description:r(a)("upstreams.delete.description"),"entity-name":P.value&&(P.value.name||P.value.id),"entity-type":r(Ie).Upstream,error:ye.value,title:r(a)("upstreams.delete.title"),visible:re.value,onCancel:le,onProceed:oe},null,8,["action-pending","description","entity-name","entity-type","error","title","visible"])])}}}),me=(e,s)=>{const l=e.__vccOpts||e;for(const[t,a]of s)l[t]=a;return l},Ye=me(Ke,[["__scopeId","data-v-60d8289c"]]),ne={list:{konnect:"/api/runtime_groups/{controlPlaneId}/upstreams/{upstreamId}/targets",kongManager:"/{workspace}/upstreams/{upstreamId}/targets"},form:{konnect:{create:"/api/runtime_groups/{controlPlaneId}/upstreams/{upstreamId}/targets",edit:"/api/runtime_groups/{controlPlaneId}/upstreams/{upstreamId}/targets/{id}",validate:"/api/runtime_groups/{controlPlaneId}/v1/schemas/json/target/validate"},kongManager:{create:"/{workspace}/upstreams/{upstreamId}/targets",edit:"/{workspace}/upstreams/{upstreamId}/targets/{id}",validate:"/{workspace}/schemas/targets/validate"}}},Oe={class:"kong-ui-entities-target-form"},Fe={class:"target-form-container"},Ae={key:0,class:"target-form-info"},Be=ee({__name:"TargetForm",props:{config:{type:Object,required:!0,validator:e=>!(!e||!["konnect","kongManager"].includes(e==null?void 0:e.app)||e.app==="konnect"&&!e.controlPlaneId||e.app==="kongManager"&&!e.workspace||!e.upstreamId)},isVisible:{type:Boolean,required:!0,default:!1},targetId:{type:String,required:!1,default:""}},emits:["update","error","loading","cancel"],setup(e,{emit:s}){var l;const t=e;Ht(g=>({"7e9fc9cc":r(O)}));const{i18n:{t:a}}=fe.useI18n(),{getMessageFromError:d}=Ft(),{axiosInstance:k}=Se({headers:(l=t.config)==null?void 0:l.requestHeaders}),T=S(()=>{var g;return ne.form[t.config.app].edit.replace(/{upstreamId}/gi,((g=t.config)==null?void 0:g.upstreamId)||"")}),C=S(()=>t.targetId?pe.Edit:pe.Create),y=S(()=>C.value===pe.Edit?a("targets.form.edit.title"):a("targets.form.create.title")),o=We({fields:{target:"",weight:100,tags:""},isReadonly:!1,errorMessage:""}),M=We({target:"",weight:100,tags:""}),V={target:"",weight:100,tags:""},w=S(()=>{const g=parseInt(o.fields.weight.toString(),10);return g<0||g>65535}),j=S(()=>JSON.stringify(o.fields)!==JSON.stringify(M)&&!!o.fields.target&&!!o.fields.weight&&!w.value),m=g=>{var _;o.fields.target=(g==null?void 0:g.target)||"",o.fields.weight=(g==null?void 0:g.weight)??"",o.fields.tags=((_=g==null?void 0:g.tags)==null?void 0:_.join(", "))||"",Object.assign(M,o.fields)},p=()=>{o.errorMessage="",s("cancel")},n=S(()=>{var g,_;let f=`${t.config.apiBaseUrl}${ne.form[t.config.app].validate}`;return t.config.app==="konnect"?f=f.replace(/{controlPlaneId}/gi,((g=t.config)==null?void 0:g.controlPlaneId)||""):t.config.app==="kongManager"&&(f=f.replace(/{workspace}/gi,((_=t.config)==null?void 0:_.workspace)||"")),f=f.replace(/{id}/gi,t.targetId),f}),v=S(()=>{var g,_,f,F;let b=`${t.config.apiBaseUrl}${ne.form[t.config.app][C.value]}`;return t.config.app==="konnect"?b=b.replace(/{controlPlaneId}/gi,((g=t.config)==null?void 0:g.controlPlaneId)||"").replace(/{upstreamId}/gi,((_=t.config)==null?void 0:_.upstreamId)||""):t.config.app==="kongManager"&&(b=b.replace(/{workspace}/gi,((f=t.config)==null?void 0:f.workspace)||"").replace(/{upstreamId}/gi,((F=t.config)==null?void 0:F.upstreamId)||"")),b=b.replace(/{id}/gi,t.targetId),b}),R=async()=>{var g,_,f,F;try{o.isReadonly=!0,o.errorMessage="";const b={target:o.fields.target,weight:parseInt(o.fields.weight),tags:(f=(_=(g=o.fields.tags)==null?void 0:g.split(","))==null?void 0:_.map(P=>String(P||"").trim()))==null?void 0:f.filter(P=>P!==""),upstream:{id:t.config.upstreamId}};let D;if(await k.post(n.value,b),C.value==="create"?D=await k.post(v.value,b):C.value==="edit"&&(D=await k.put(v.value,b)),D){const{data:P}=D;o.fields.target=(P==null?void 0:P.name)||"",o.fields.weight=(P==null?void 0:P.weight)??100,o.fields.tags=((F=P==null?void 0:P.tags)==null?void 0:F.join(", "))||"",s("update",P),Object.assign(o.fields,V)}}catch(b){o.errorMessage=d(b),s("error",b)}finally{o.isReadonly=!1}},O=S(()=>o.isReadonly?"inline-flex":"none");return ae(()=>t.targetId,()=>{Object.assign(o.fields,V)}),(g,_)=>{const f=x("KInput"),F=x("KPrompt");return E(),z(F,{"action-button-text":r(a)("targets.form.buttons.save"),"action-pending":!r(j)||o.isReadonly,"cancel-button-text":r(a)("targets.form.buttons.cancel"),"is-visible":e.isVisible,title:r(y),onCanceled:p,onProceed:R},{"body-content":i(()=>[B("div",Oe,[u(r(yt),{config:e.config,"edit-id":e.targetId,"error-message":o.errorMessage,"fetch-url":r(T),"is-readonly":o.isReadonly,onCancel:p,"onFetch:error":_[3]||(_[3]=b=>g.$emit("error",b)),"onFetch:success":m,onLoading:_[4]||(_[4]=b=>g.$emit("loading",b))},{default:i(()=>[B("div",Fe,[g.$slots.info?(E(),W("div",Ae,[Q(g.$slots,"info",{},void 0,!0)])):ie("",!0),u(f,{modelValue:o.fields.target,"onUpdate:modelValue":_[0]||(_[0]=b=>o.fields.target=b),modelModifiers:{trim:!0},autocomplete:"off",class:"target-form-input","data-testid":"target-form-target",label:r(a)("targets.form.fields.target.label"),"label-attributes":{info:r(a)("targets.form.fields.target.tooltip")},placeholder:r(a)("targets.form.fields.target.placeholder"),readonly:o.isReadonly,required:"",type:"text"},null,8,["modelValue","label","label-attributes","placeholder","readonly"]),u(f,{modelValue:o.fields.weight,"onUpdate:modelValue":_[1]||(_[1]=b=>o.fields.weight=b),autocomplete:"off",class:"target-form-input","data-testid":"target-form-weight","error-message":r(a)("targets.errors.weight"),"has-error":r(w),label:r(a)("targets.form.fields.weight.label"),"label-attributes":{info:r(a)("targets.form.fields.weight.tooltip")},max:"65535",min:"0",readonly:o.isReadonly,required:"",type:"number"},null,8,["modelValue","error-message","has-error","label","label-attributes","readonly"]),u(f,{modelValue:o.fields.tags,"onUpdate:modelValue":_[2]||(_[2]=b=>o.fields.tags=b),modelModifiers:{trim:!0},autocomplete:"off",class:"target-form-input","data-testid":"target-form-tags",help:r(a)("targets.form.fields.tags.help"),label:r(a)("targets.form.fields.tags.label"),placeholder:r(a)("targets.form.fields.tags.placeholder"),readonly:o.isReadonly,type:"text"},null,8,["modelValue","help","label","placeholder","readonly"])])]),_:3},8,["config","edit-id","error-message","fetch-url","is-readonly"])])]),_:3},8,["action-button-text","action-pending","cancel-button-text","is-visible","title"])}}}),je=me(Be,[["__scopeId","data-v-c705f45c"]]),Le={class:"kong-ui-entities-targets-list"},De={class:"target-address"},Ne=ee({__name:"TargetsList",props:{config:{type:Object,required:!0,validator:e=>!(!e||!["konnect","kongManager"].includes(e==null?void 0:e.app)||!e.upstreamId||e.app==="kongManager"&&(typeof e.canMarkHealthy>"u"||typeof e.canMarkUnhealthy>"u"))},canCreate:{type:Function,required:!1,default:async()=>!0},canDelete:{type:Function,required:!1,default:async()=>!0},canEdit:{type:Function,required:!1,default:async()=>!0}},emits:["error","loading","copy:success","copy:error","delete:success","health-actions:healthy","health-actions:unhealthy","create:target","update:target"],setup(e,{emit:s}){var l;const t=e,{i18n:{t:a}}=fe.useI18n(),{axiosInstance:d}=Se({headers:(l=t.config)==null?void 0:l.requestHeaders}),k=I(1),T=S(()=>t.config.app!=="kongManager"||!!t.config.disableSorting),C={target:{label:a("targets.list.table_headers.target_address"),sortable:!0},weight:{label:a("targets.list.table_headers.weight"),sortable:!0},tags:{label:a("targets.list.table_headers.tags"),sortable:!1}},y=S(()=>{var c,A,N,H;let Z=`${t.config.apiBaseUrl}${ne.list[t.config.app]}`;return t.config.app==="konnect"?Z=Z.replace(/{controlPlaneId}/gi,((c=t.config)==null?void 0:c.controlPlaneId)||"").replace(/{upstreamId}/gi,((A=t.config)==null?void 0:A.upstreamId)||""):t.config.app==="kongManager"&&(Z=Z.replace(/{workspace}/gi,((N=t.config)==null?void 0:N.workspace)||"").replace(/{upstreamId}/gi,((H=t.config)==null?void 0:H.upstreamId)||"")),Z}),{fetcher:o,fetcherState:M}=Ve(t.config,y.value),V=()=>{k.value++},w=I(""),j=S(()=>M.value.status===J.Loading),m=S(()=>{var c;return M.value.status===J.Idle&&!!((c=M.value.response)!=null&&c.data.length)}),p=S(()=>!j.value&&m.value),n=()=>{oe.value=!0},v=(c,A)=>{const N=c.id;if(!A(N)){s("copy:error",{entity:c,field:"id",message:a("targets.errors.copy")});return}s("copy:success",{entity:c,field:"id",message:a("targets.copy.success",{val:N})})},R=(c,A)=>{const N=JSON.stringify(c);if(!A(N)){s("copy:error",{entity:c,message:a("targets.errors.copy")});return}s("copy:success",{entity:c,message:a("targets.copy.success_brief")})},O=c=>{le.value=c,oe.value=!0},g=c=>t.config.app==="konnect"?!1:t.config.canMarkHealthy(c),_=c=>t.config.app==="konnect"?!1:t.config.canMarkUnhealthy(c),f=I(void 0),F=I(!1),b=I(!1),D=I(""),P=Re(t.config,y.value),re=c=>{f.value=c,F.value=!0},se=()=>{F.value=!1},ye=async()=>{var c,A,N;if((c=f.value)!=null&&c.id){b.value=!0;try{await d.delete(P(f.value.id)),b.value=!1,F.value=!1,k.value++,s("delete:success",f.value)}catch(H){D.value=((N=(A=H.response)==null?void 0:A.data)==null?void 0:N.message)||H.message||a("targets.errors.delete"),s("error",H)}finally{b.value=!1}}};ae(j,c=>{s("loading",c)},{immediate:!0}),ae(M,c=>{if(c.status===J.Error){w.value=a("targets.errors.general"),s("error",c.error);return}w.value=""});const ce=I({ctaText:void 0,message:a("targets.list.empty_state.description"),title:a("targets.title"),...t.config.createRoute&&{ctaPath:t.config.createRoute}});ve(async()=>{await t.canCreate()&&(ce.value.title=a("targets.list.empty_state.title"),ce.value.ctaText=a("targets.actions.create"))});const Te=S(()=>({app:t.config.app,apiBaseUrl:t.config.apiBaseUrl,upstreamId:t.config.upstreamId,...t.config.app==="konnect"&&{controlPlaneId:t.config.controlPlaneId},...t.config.app==="kongManager"&&{workspace:t.config.workspace,requestHeaders:t.config.requestHeaders}})),le=I(""),oe=I(!1),ue=c=>{le.value?s("update:target",c):s("create:target",c),h()},h=()=>{$(),k.value++},$=()=>{oe.value=!1,le.value=""};return(c,A)=>{const N=x("KButton"),H=x("KBadge"),Z=x("KTruncate"),U=x("KDropdownItem"),Y=x("KClipboardProvider");return E(),W("div",Le,[u(r(xe),{"disable-pagination-page-jump":"","disable-sorting":r(T),"empty-state-options":ce.value,"enable-entity-actions":"","error-message":w.value,fetcher:r(o),"fetcher-cache-key":k.value,"is-loading":r(j),"pagination-type":"offset","preferences-storage-key":"kong-ui-entities-targets-list","table-headers":r(C),onEmptyStateCtaClicked:A[1]||(A[1]=()=>t.config.createRoute?void 0:n()),onSort:V},de({target:i(({rowValue:L})=>[B("span",De,q(L),1)]),tags:i(({rowValue:L})=>[u(Z,null,{default:i(()=>[(E(!0),W(Me,null,ke(L,G=>(E(),z(H,{key:G,"max-width":"auto"},{default:i(()=>[K(q(G),1)]),_:2},1024))),128))]),_:2},1024)]),actions:i(({row:L})=>[u(Y,null,{default:i(({copyToClipboard:G})=>[u(U,{"data-testid":"action-entity-copy-id",onClick:Dt=>v(L,G)},{default:i(()=>[K(q(r(a)("targets.actions.copy_id")),1)]),_:2},1032,["onClick"])]),_:2},1024),u(Y,null,{default:i(({copyToClipboard:G})=>[u(U,{"data-testid":"action-entity-copy-json",onClick:Dt=>R(L,G)},{default:i(()=>[K(q(r(a)("targets.actions.copy_json")),1)]),_:2},1032,["onClick"])]),_:2},1024),u(r(X),{"auth-function":()=>e.canEdit(L)},{default:i(()=>[u(U,{"data-testid":"action-entity-edit","has-divider":"",onClick:G=>O(L.id)},{default:i(()=>[K(q(r(a)("targets.actions.edit")),1)]),_:2},1032,["onClick"])]),_:2},1032,["auth-function"]),u(r(X),{"auth-function":()=>g(L)},{default:i(()=>[u(U,{"data-testid":"action-target-mark-healthy",onClick:G=>s("health-actions:healthy",L)},{default:i(()=>[K(q(r(a)("targets.actions.mark_healthy")),1)]),_:2},1032,["onClick"])]),_:2},1032,["auth-function"]),u(r(X),{"auth-function":()=>_(L)},{default:i(()=>[u(U,{"data-testid":"action-target-mark-unhealthy",onClick:G=>s("health-actions:unhealthy",L)},{default:i(()=>[K(q(r(a)("targets.actions.mark_unhealthy")),1)]),_:2},1032,["onClick"])]),_:2},1032,["auth-function"]),u(r(X),{"auth-function":()=>e.canDelete(L)},{default:i(()=>[u(U,{"data-testid":"action-entity-delete","has-divider":"","is-dangerous":"",onClick:G=>re(L)},{default:i(()=>[K(q(r(a)("targets.actions.delete")),1)]),_:2},1032,["onClick"])]),_:2},1032,["auth-function"])]),_:2},[r(p)?{name:"toolbar-button",fn:i(()=>[u(r(X),{"auth-function":()=>e.canCreate()},{default:i(()=>[u(N,{appearance:"primary","data-testid":"toolbar-new-target",icon:"plus",to:t.config.createRoute?t.config.createRoute:void 0,onClick:A[0]||(A[0]=()=>t.config.createRoute?void 0:n())},{default:i(()=>[K(q(r(a)("targets.list.toolbar_actions.new_target")),1)]),_:1},8,["to"])]),_:1},8,["auth-function"])]),key:"0"}:void 0]),1032,["disable-sorting","empty-state-options","error-message","fetcher","fetcher-cache-key","is-loading","table-headers"]),u(r(qe),{"action-pending":b.value,description:r(a)("targets.delete.description"),"entity-type":r(Ie).Target,error:D.value,"need-confirm":!1,title:r(a)("targets.delete.title"),visible:F.value,onCancel:se,onProceed:ye},null,8,["action-pending","description","entity-type","error","title","visible"]),u(je,{config:r(Te),"is-visible":oe.value,"target-id":le.value,onCancel:$,onUpdate:ue},de({_:2},[c.$slots["form-info"]?{name:"info",fn:i(()=>[Q(c.$slots,"form-info",{},void 0,!0)]),key:"0"}:void 0]),1032,["config","is-visible","target-id"])])}}}),Ge=me(Ne,[["__scopeId","data-v-298babd8"]])});export{Ye as Y,Ge as Z,Jt as __tla};
