/*
  This software is copyright Kong Inc. and its licensors.
  Use of the software is subject to the agreement between your organization
  and Kong Inc. If there is no such agreement, use is governed by and
  subject to the terms of the Kong Master Software License Agreement found
  at https://konghq.com/enterprisesoftwarelicense/.
*/

import{_ as W,H as G,S as Q,z as j,Q as q,at as B,r as o,c as d,b as n,w as e,l as m,h as p,a as i,o as l,R as b,t as J,d as s,p as K,e as X,__tla as Y}from"./index.84d84090.3_3_0_0.js";import{E as Z,__tla as tt}from"./EntityList.9d5d453d.3_3_0_0.js";import{D as at,__tla as et}from"./DisabledView.3ce50815.3_3_0_0.js";import{W as it,__tla as st}from"./WorkspaceMixin.71f3f83c.3_3_0_0.js";import{__tla as ot}from"./monaco-editor.90904fcf.3_3_0_0.js";import{__tla as lt}from"./preferences.ea825a88.3_3_0_0.js";import{__tla as rt}from"./EntityListEmptyState.9b958bba.3_3_0_0.js";import{__tla as nt}from"./EntityToggleBadge.6a1cd1fb.3_3_0_0.js";import{__tla as pt}from"./ConfirmModalDialog.af276128.3_3_0_0.js";import{__tla as ct}from"./EntityDeleteModal.673d985c.3_3_0_0.js";import"./RedirectMixin.efeb36f2.3_3_0_0.js";let y,dt=Promise.all([(()=>{try{return Y}catch{}})(),(()=>{try{return tt}catch{}})(),(()=>{try{return et}catch{}})(),(()=>{try{return st}catch{}})(),(()=>{try{return ot}catch{}})(),(()=>{try{return lt}catch{}})(),(()=>{try{return rt}catch{}})(),(()=>{try{return nt}catch{}})(),(()=>{try{return pt}catch{}})(),(()=>{try{return ct}catch{}})()]).then(async()=>{const v={name:"ApplicationsList",components:{DisabledView:at,EntityList:Z,PageHeader:G,SupportText:Q},mixins:[it],props:{developerId:{type:String,default:""}},data(){return{isLoading:!0,portalEnabled:null,portalAuthEnabled:null,actionItem:null,portalUrl:null,unsortableFields:["developer"]}},computed:{entityListOptions(){let t="applications";return this.developerId&&(t=`developers/${this.developerId}/applications`),{entity:t,entityName:"Application",emptyTitle:"No Applications",helpMessage:"Applications can be added by developers registered to this workspace's Portal",showCtaLink:!1,fields:{name:{searchable:!1},id:{label:"ID",searchable:!0},developer:{searchable:!1},description:{searchable:!1}}}},...j(q,{portalDocs:"docsPortal"})},async mounted(){const t=await this.getWorkspaceConfig();this.portalUrl=B(t,this.workspace),this.portalAuthEnabled=t.portal_auth,this.portalEnabled=t.portal,this.isLoading=!1},methods:{setCustomAction(t,r){this.customAction=r,this.actionItem=t,r.skipModal&&this.makeCustomAction()},makeCustomAction(){const t=this.customAction.type,r=this.states[this.customAction.type].value;this.$api.updateRecord("developers",this.actionItem.id,{status:r}).then(()=>{this.$refs.entitylist.reloadData(),this.notifications[t]=!0}),this.dismissCustomAction()},dismissCustomAction(){this.customAction={getText:()=>{}},this.actionItem=null}}},u=t=>(K("data-v-587d931c"),t=t(),X(),t),f={class:"applications-portal-list"},g=u(()=>i("p",null,"Applications allow Portal developers to authenticate to Gateway Services with the Portal Application Registration Plugin applied.",-1)),A=u(()=>i("strong",null,"The Dev Portal is disabled!",-1)),w=s(" To enable visit the "),k=s(" Portal Settings "),E=s(" page or visit our "),P=["href"],D=s(" to learn more. "),I={key:0},L=u(()=>i("strong",null,"Dev Portal authentication is disabled!",-1)),C=s(" Developers will not be able to register Applications until authentication is enabled. To enable visit the "),S=s(" Portal Settings "),T=s(" page. "),x={class:"row"},z={class:"col"},H=["item"];function M(t,r,R,ut,a,U){const $=o("SupportText"),F=o("PageHeader"),_=o("router-link"),N=o("DisabledView"),O=o("CopyUuid"),V=o("EntityList");return l(),d("section",f,[n(F,{size:R.developerId?5:3,title:"Applications"},{"below-title":e(()=>[n($,null,{default:e(()=>[g]),_:1})]),_:1},8,["size"]),!a.isLoading&&(!a.portalEnabled||!a.portalAuthEnabled)?(l(),m(N,{key:0,class:"mb-7"},{disabledMessage:e(()=>[a.portalEnabled?p("",!0):(l(),d(b,{key:0},[A,w,n(_,{to:{name:"portal-settings"}},{default:e(()=>[k]),_:1}),E,i("a",{href:t.portalDocs.url},"documentation",8,P),D],64)),a.portalAuthEnabled?p("",!0):(l(),d(b,{key:1},[!a.portalEnabled&&!a.portalAuthEnabled?(l(),d("br",I)):p("",!0),L,C,n(_,{to:{name:"portal-settings"}},{default:e(()=>[S]),_:1}),T],64))]),_:1})):p("",!0),i("div",x,[i("div",z,[a.portalEnabled?(l(),m(V,{key:0,ref:"entitylist","unsortable-fields":a.unsortableFields,options:U.entityListOptions,"view-action-fields":["name"],"enable-entity-actions":!0,"show-view-action":!0,"show-update-action":!1,"disable-row-click":!0,"overflow-actions":!0},{description:e(({item:c})=>[i("div",{item:c.row,class:"truncate"},J(c.description),9,H)]),developer:e(({item:c})=>{var h;return[n(O,{uuid:(h=c.developer)==null?void 0:h.id},null,8,["uuid"])]}),_:1},8,["unsortable-fields","options"])):p("",!0)])])])}y=W(v,[["render",M],["__scopeId","data-v-587d931c"]])});export{dt as __tla,y as default};
